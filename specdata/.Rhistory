result
result <- suma/length(id)
mediacontaminante <- function(directorio,contaminante,id=1:332){
id2 <- vector("character")
suma <- 0
for (i in id){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,contaminante])
medias <- mean(z,na.rm=TRUE)
suma <- suma + medias
}
result <- suma/length(id)
result
}
mediacontaminante("specdata","sulfate",160)
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante("specdata","sulfate",1:10)
mediacontaminante("specdata","nitrate",70:72)
mediacontaminante("specdata","nitrate",23)
mediacontaminante <- function(directorio="~/Personal/GitHub/Programacion_Actuarial_III_OT16/specdata", contaminante, id = 1:332) {
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante("specdata","sulfate",1:10)
mediacontaminante("specdata","nitrate",70:72)
mediacontaminante("specdata","nitrate",23)
mediacontaminante <- function(directorio="C:\Users\Personal\Documents\GitHub\Programacion_Actuarial_III_OT16\specdata", contaminante, id = 1:332) {
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante("specdata","sulfate",1:10)
mediacontaminante("specdata","nitrate",70:72)
mediacontaminante("specdata","nitrate",23)
mediacontaminante <- function(directorio="~/Users/Personal/Documents/GitHub/Programacion_Actuarial_III_OT16/specdata", contaminante, id = 1:332) {
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante("specdata","sulfate",1:10)
mediacontaminante("specdata","nitrate",70:72)
mediacontaminante("specdata","nitrate",23)
mediacontaminante <- function(directorio="~/Documents/GitHub/Programacion_Actuarial_III_OT16/specdata", contaminante, id = 1:332) {
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante("specdata","sulfate",1:10)
mediacontaminante("specdata","nitrate",70:72)
mediacontaminante("specdata","nitrate",23)
mediacontaminante <- function(directorio="~/Documents/GitHub/Programacion_Actuarial_III_OT16/specdata", contaminante, id = 1:332) {
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante("specdata","sulfate",1:10)
mediacontaminante("specdata","nitrate",70:72)
mediacontaminante("specdata","nitrate",23)
?formatC
?read.csv
?paste
?read.csv
paste
?paste
?header
?mean
setwd
setwd()
getwd
getwd()
setwd("GitHub")
getwd()
mediacontaminante <- function(directorio="~/GitHub/Programacion_Actuarial_III_OT16/specdata", contaminante, id = 1:332) {
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante("specdata","sulfate",1:10)
mediacontaminante("specdata","nitrate",70:72)
mediacontaminante("specdata","nitrate",23)
setwd(directorio)
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante("~/GitHub/Programacion_Actuarial_III_OT16/specdata","sulfate",1:10)
mediacontaminante("~/GitHub/Programacion_Actuarial_III_OT16/specdata","nitrate",70:72)
mediacontaminante("~/GitHub/Programacion_Actuarial_III_OT16/specdata","nitrate",23)
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
#setwd(directorio)
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante("specdata","sulfate",1:10)
mediacontaminante("specdata","nitrate",70:72)
mediacontaminante("specdata","nitrate",23)
mediacontaminante <- function(directorio, contaminante, id = 1:332) {
setwd(directorio)
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante("specdata","sulfate",1:10)
mediacontaminante("specdata","nitrate",70:72)
mediacontaminante("specdata","nitrate",23)
mediacontaminante <- function(directorio="~/GitHub/Programacion_Actuarial_III_OT16/specdata", contaminante, id = 1:332) {
setwd(directorio)
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante("specdata","sulfate",1:10)
mediacontaminante("specdata","nitrate",70:72)
mediacontaminante("specdata","nitrate",23)
mediacontaminante <- function(directorio="~/GitHub/Programacion_Actuarial_III_OT16/specdata", contaminante= "sulfate", id= 1:332){
setwd(directorio)
suma2 <- 0
nf2 <- 0
promedio <- 0
j <- 0
if (contaminante== "sulfate") {
j= 2
} else if(contaminante == "nitrate"){
j=3
} else {
}
for(i in id) {
#lectura de datos
if (i<10) {
tabla <- read.csv(paste("00", i, ".csv", sep=""))
}else if(i>=10 && i<100 ) {
tabla<-read.csv(paste("0", i,".csv", sep=""))
}else {
tabla<-read.csv(paste(i,".csv",sep=""))
}
#Datos sin Na o NaN
columna<-tabla[j]
buenos <- complete.cases(columna)
nuevo <- tabla[buenos, ]
#cuenta el no. de filas
nf <- nrow(nuevo)
nf2 <- nf2+nf
#suma los datos de cada tabla
suma <- sum(nuevo[,j])
suma2 <- suma2+suma
}
promedio <- suma2/nf2
print(promedio)
}
mediacontaminante(,"sulfate",1)
mediacontaminante <- function(directorio="~/GitHub/Programacion_Actuarial_III_OT16/specdata", contaminante, id = 1:332) {
setwd(directorio)
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante( , "sulfate", 1)
mediacontaminante <- function(directorio="~/GitHub/Programacion_Actuarial_III_OT16/specdata",contaminante="sulfato",id=1:332){
sumaProm <- 0
restar <- 0
if (contaminante == "sulfato"){
for (i in id) {
if (i < 10){
j <- paste("00",i,".csv",sep = "")
}else{
if ((i>=10)&(i < 100)) {
j <- paste("0",i,".csv",sep="")
}else{
j <- paste(i,".csv",sep = "")
}
}
getwd()
setwd(directorio)
data <- read.csv(j)
prom <- mean(data[,2],na.rm = TRUE)
sumaProm <- sumaProm + prom
}
} else {
if (contaminante == "nitrato"){
for (i in id) {
if (i < 10){
j <- paste("00",i,".csv",sep = "")
}else{
if ((i>=10)&(i < 100)) {
j <- paste("0",i,".csv",sep="")
}else{
j <- paste(i,".csv",sep = "")
}
}
getwd()
setwd(directorio)
data <- read.csv(j)
prom <- mean(data[,3],na.rm = TRUE)
if (is.nan(prom)){prom <- 0
restar <- restar + 1
}
sumaProm <- sumaProm + prom
}
}else {
TotalProm <- c("NA")
}
}
TotalProm<- sumaProm/(length(id) - restar)
TotalProm
}
TotalProm
mediacontaminante <- function(directorio="~/GitHub/Programacion_Actuarial_III_OT16/specdata",contaminante="sulfato",id=1:332){
sumaProm <- 0
restar <- 0
if (contaminante == "sulfato"){
for (i in id) {
if (i < 10){
j <- paste("00",i,".csv",sep = "")
}else{
if ((i>=10)&(i < 100)) {
j <- paste("0",i,".csv",sep="")
}else{
j <- paste(i,".csv",sep = "")
}
}
getwd()
setwd(directorio)
data <- read.csv(j)
prom <- mean(data[,2],na.rm = TRUE)
sumaProm <- sumaProm + prom
}
} else {
if (contaminante == "nitrato"){
for (i in id) {
if (i < 10){
j <- paste("00",i,".csv",sep = "")
}else{
if ((i>=10)&(i < 100)) {
j <- paste("0",i,".csv",sep="")
}else{
j <- paste(i,".csv",sep = "")
}
}
getwd()
setwd(directorio)
data <- read.csv(j)
prom <- mean(data[,3],na.rm = TRUE)
if (is.nan(prom)){prom <- 0
restar <- restar + 1
}
sumaProm <- sumaProm + prom
}
}else {
TotalProm <- c("NA")
}
}
TotalProm <- sumaProm/(length(id) - restar)
TotalProm
}
print(TotalProm)
TotalProm
mediacontaminante<-function(directorio,contaminante,id=1:332){
setwd(directorio)
#setwd("~/GitHub/Programacion_Actuarial_III_OT16/specdata")
ficheros<- dir()
p<-0
s<-0
a<-(c())
for (i in id) {specdata<- read.csv(ficheros[i])
if (contaminante=="sulfate" ){
y<-specdata["sulfate"]
}else if (contaminante=="nitrate"){
y<-specdata["nitrate"]
}else{}
cabal<- complete.cases(y)
x<-vector("numeric")
x<- y[cabal,]
z<-(mean(c(x)))
#print(z)
a1<-z
a<-(c(a,a1))
c<- data.frame(a)
b<- complete.cases(c)
b1<-vector("numeric")
b1<- c[b,]
print(mean(c(b1)))
mediacontaminante("~/GitHub/Programacion_Actuarial_III_OT16/specdata","nitrate",1:332)
print(mean(c(b1)))
print(mean)
mediacontaminante <- function(directorio="~/GitHub/Programacion_Actuarial_III_OT16/specdata", contaminante, id = 1:332) {
setwd(directorio)
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante( , "sulfate", 1)
mediacontaminante <- function(directorio="~/GitHub/Programacion_Actuarial_III_OT16/specdata", contaminante, id = 1:332) {
setwd(directorio)
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante( , "sulfate", 1)
completos <- function(directorio= "~/Documents/GitHub/Programacion_Actuarial_III_OT16/specdata", id= 1:332) {
nobs <- vector("numeric", length(id))
contador <- 1
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag = "0")
readen <- read.csv(paste(id_otro, ".csv",sep = ""),header = T)
sul <- (readen$sulfate)
nit <- (readen$nitrate)
mydata <- data.frame(x,y)
nobs[k] <- nrow(mydata[complete.cases(mydata),])
contador <- contador+1
}
data.frame(id=id,nobs=nobs)
}
completos("specdata",id=30:25)
getwd()
completos("specdata",id=30:25)
mediacontaminante <- function(directorio="~/GitHub/Programacion_Actuarial_III_OT16/specdata", contaminante, id = 1:332) {
setwd(directorio)
total_suma <- numeric()
for (vari in id) {
id_otro <- formatC(vari,width = 3,flag ="0")
readen <- read.csv(paste(id_otro,".csv",sep =""),header = T)
#Condiciones
if(contaminante=="sulfate"){
total_suma <- c(total_suma,readen$sulfate)
} else if (contaminante=="nitrate"){
total_suma <- c(total_suma,readen$nitrate)
} else {
paste("Elcontaminante",contaminante,"que ha indicado no existe en la lista")
}
}
promedio <- mean(total_suma, na.rm = T)
promedio
}
mediacontaminante(, "sulfate", 1)
